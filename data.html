<html>
   
    <head>
        
        <title>Clean Water Statistics</title>

        <script src="wrangled_final_data.json"></script>
        <link rel="stylesheet" href="stylz.css">
        <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
        
        <style>
            
            .flip-card {
            background-color: transparent;
            width: 300px;
            height: 300px;
            perspective: 1000px;
            }

            .flip-card-inner {
            position: relative;
            width: 100%;
            height: 100%;
            text-align: center;
            transition: transform 0.6s;
            transform-style: preserve-3d;
            box-shadow: 0 4px 8px 0 rgba(0,0,0,0.2);
            }

            .flip-card:hover .flip-card-inner {
            transform: rotateY(180deg);
            }

            .flip-card-front, .flip-card-back {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            }

            .flip-card-front {
            background-color: #bbb;
            color: black;
            }

            .flip-card-back {
            background-color: #2980b9;
            color: white;
            transform: rotateY(180deg);
            }

        </style>

    </head>
    
    <body>
        
        <div class="navbar">
            <a class="main" href="index.html"><i class="material-icons">home</i> Home</a>
            <a href="about.html"><i class="material-icons">info</i> About</a>
            <a href="data.html"><i class="material-icons">assessment</i> Data</a>
            <a href="quiz.html"><i class="material-icons">timer</i> Quiz</a>
            <a href="#"><i class="material-icons">library_books</i> Stories</a>
            <div class="dropdown">
                <button class="dropbtn"><i class="material-icons">more_vert</i> More</button>
                <div class="dropdown-content">
                    <a href="#">Settings</a>
                    <a href="#">Coming Soon</a>
                    <a href="#">Links</a>
                </div>
            </div>
            <div class="dropdown">
                <button class="dropbtn"><i class="material-icons">search</i> Search</button>
                <div class="dropdown-content">
                    <div class="search-container">
                        <form action="/action_page.php">
                            <input type="text" placeholder="Search.." name="search">
                            <button type="submit"><i class="material-icons">subdirectory_arrow_left</i></button>
                        </form>
                    </div>
                </div>
            </div>
            <a class="blue" href="#"><i class="material-icons">group_add</i> Contribute</a>
        </div>
        
        <div class="content">
            
            <div id="indicator">
                Enter a Geo Area (must be the proper name, spelt correctly with appriopriate capitalization)<input type="text" id="geoareaname"></input>
                <br>
                <select id="year1">
                    <option></option>
                    <option>2000</option>
                    <option>2001</option>
                    <option>2002</option>
                    <option>2003</option>
                    <option>2004</option>
                    <option>2005</option>
                    <option>2006</option>
                    <option>2007</option>
                    <option>2008</option>
                    <option>2009</option>
                    <option>2010</option>
                    <option>2011</option>
                    <option>2012</option>
                    <option>2013</option>
                    <option>2014</option>
                    <option>2015</option>
                    <option>2016</option>
                    <option>2017</option>
                </select>
                <select id="year2">
                    <option></option>
                    <option>2000</option>
                    <option>2001</option>
                    <option>2002</option>
                    <option>2003</option>
                    <option>2004</option>
                    <option>2005</option>
                    <option>2006</option>
                    <option>2007</option>
                    <option>2008</option>
                    <option>2009</option>
                    <option>2010</option>
                    <option>2011</option>
                    <option>2012</option>
                    <option>2013</option>
                    <option>2014</option>
                    <option>2015</option>
                    <option>2016</option>
                    <option>2017</option>
                </select>
<!--
                <div id="year">
                    Year <input type="text" id="start">
                    To <input type="text" id="end">
                    <br>
                </div>
-->
                <form id="location">
                    <input id="option1" type="radio" name="answer" value="ALLAREA"> All Area<br>
                    <input id="option2" type="radio" name="answer" value="URBAN"> Urban<br>
                    <input id="option3" type="radio" name="answer" value="RURAL"> Rural<br>
                    <input id="option4" type="radio" name="answer" value="SHOWALL"> Show All
                </form>
                <button onclick="retrieve()">Find Data</button>
                <br>
                <p id="Feedback"></p>
                <form id="notaneyesore" style="visibility: hidden;">
                    <input type="checkbox" name="answer"> Bar Graph<br>
                    <input type="checkbox" name="answer"> Map<br>
                    <input type="checkbox" name="answer"> Pictograph<br>
                    <input type="checkbox" name="answer"> Pie Chart
                </form>
            </div>
            
            <img src="drinking-water.jpg" style="width: 50%">
            <h1>More Quick Facts</h1>
            <div class="flip-card">
                <div class="flip-card-inner">
                    <div class="flip-card-front">
                        <img src="clean.png" alt="Photo" style="width:300px;height:300px;">
                    </div>
                    <div class="flip-card-back">
                        <h1>John Doe</h1> 
                        <p>Architect & Engineer</p> 
                        <p>We love that guy</p>
                    </div>
                </div>
            </div>

        </div>
        
        <div class="footer">
            <p id="demo"></p>
        </div>

    </body> 

    <script>
                
        var x = document.lastModified;
        document.getElementById("demo").innerHTML = "Last Refreshed " + x

        function retrieve() {
            var a = document.getElementById("geoareaname").value;
            var b1 = document.getElementById("year1").value;
            var b2 = document.getElementById("year2").value;
            if (document.getElementById("option1").checked == true) {
                var c = document.getElementById("option1").value
            } else if (document.getElementById("option2").checked == true) {
                var c = document.getElementById("option2").value
            } else if (document.getElementById("option3").checked == true) {
                var c = document.getElementById("option3").value
            } else if (document.getElementById("option4").checked == true) {
                var c = document.getElementById("option4").value
            }
            console.log(a + " " + b1 + " - " + b2 + " " + c);
/*
            var d = document.getElementById("myCanvas");
            var ctx = d.getContext("2d");
            colors = ["black","red","blue","yellow","green","grey"];
*/
            var years = []
            for (x = b1; x <= b2; x ++) {
                years.push(parseInt(x))
                console.log(years)
            }
            if (b1 > b2) {
                alert("Start range must not be greater than end range")
            } else if (a == "" || a == null || b1 == "" || b2 == "" || c !== "ALLAREA" && c !== "URBAN" && c !== "RURAL" && c !== "SHOWALL") {
                alert("Please Specify Data Range")
            } else {
                for (i = 0; i < data.length; i ++) {
                    if (data[i]['GeoAreaName'] == a && years.includes(data[i]['TimePeriod']) == true && data[i]['[Location]'] == c && c !== "SHOWALL") {
                        console.log(data[i]['Value'])
    /*
                        var a = (10 + i * 100)
                        var b = (40 + i * 100)
                        ctx.fillStyle = colors[i];
                        ctx.fillRect(10,a,data[rows[i]]['Value'] * 10,50);
                        ctx.fillStyle = "white"
                        ctx.fillText(data[rows[i]]['Value'], 20, b);
    */
                    } else if (data[i]['GeoAreaName'] == a && years.includes(data[i]['TimePeriod']) == true && c == "SHOWALL") {
                        console.log(data[i]['Value'])
    /*
                        var a = (10 + i * 100)
                        var b = (40 + i * 100)
                        ctx.fillStyle = colors[i];
                        ctx.fillRect(10,a,data[rows[i]]['Value'] * 10,50);
                        ctx.fillStyle = "white"
                        ctx.fillText(data[rows[i]]['Value'], 20, b);
    */
                    }
                }
            }
/*
            if (a !== "" && b1 !== "" && b2 !== "" && c == "All Area") {
                document.getElementById("Feedback").innerHTML = "You Have Selected The Following Data:<br>" + a + " from " + b + " in " + c + "<br>(format data in option below)";
                document.getElementById("notaneyesore").style.visibility = "visible"
            } else if (a !== "" && b1 !== "" && b2 !== "" && c == "Urban") {
                document.getElementById("Feedback").innerHTML = "You Have Selected The Following Data:<br>" + a + " from " + b + " in " + c + " area<br>(format data in option below)";
                document.getElementById("notaneyesore").style.visibility = "visible"
            } else if (a !== "" && b1 !== "" && b2 !== "" && c == "Rural") {
                document.getElementById("Feedback").innerHTML = "You Have Selected The Following Data:<br>" + a + " from " + b + " in " + c + " area<br>(format data in option below)";
                document.getElementById("notaneyesore").style.visibility = "visible"
            } else if (a !== "" && b1 !== "" && b2 !== "" c == "Show All") {
                document.getElementById("Feedback").innerHTML = "You Have Selected The Following Data:<br>" + a + " from " + b + " in " + "Rural Area, Urban Area, And All Area<br>(format data in option below)";
                document.getElementById("notaneyesore").style.visibility = "visible"
            } else {
                alert("Please Specify Data Range")
            }
*/
        }
        
    </script>
    
</html>